import"./sweetalert2.all-f808f091.js";import{c as H}from"./cart-1985dcfd.js";import{c as G}from"./class-b3b18960.js";import{j as N,k as U,l as Q,S as tt,p as et,R as at,P as st,a as ot,m as R,_ as Z,r as j,o as A,i as X,w as Y,c as J,h as nt,b as a,t as C,F as K,f as B,d as rt}from"./index-738e7cfd.js";function lt({swiper:t,extendParams:r,on:e,emit:l,params:n}){t.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,m,d=n&&n.autoplay?n.autoplay.delay:3e3,u=n&&n.autoplay?n.autoplay.delay:3e3,o,i=new Date().getTime,p,g,S,k,T,b;function y(s){!t||t.destroyed||!t.wrapperEl||s.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",y),_())}const L=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?p=!0:p&&(u=o,p=!1);const s=t.autoplay.paused?o:i+u-new Date().getTime();t.autoplay.timeLeft=s,l("autoplayTimeLeft",s,s/d),m=requestAnimationFrame(()=>{L()})},w=()=>{let s;return t.virtual&&t.params.virtual.enabled?s=t.slides.filter(h=>h.classList.contains("swiper-slide-active"))[0]:s=t.slides[t.activeIndex],s?parseInt(s.getAttribute("data-swiper-autoplay"),10):void 0},x=s=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(m),L();let E=typeof s>"u"?t.params.autoplay.delay:s;d=t.params.autoplay.delay,u=t.params.autoplay.delay;const h=w();!Number.isNaN(h)&&h>0&&typeof s>"u"&&(E=h,d=h,u=h),o=E;const V=t.params.speed,z=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(V,!0,!0),l("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,V,!0,!0),l("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(V,!0,!0),l("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,V,!0,!0),l("autoplay")),t.params.cssMode&&(i=new Date().getTime(),requestAnimationFrame(()=>{x()})))};return E>0?(clearTimeout(c),c=setTimeout(()=>{z()},E)):requestAnimationFrame(()=>{z()}),E},f=()=>{t.autoplay.running=!0,x(),l("autoplayStart")},D=()=>{t.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(m),l("autoplayStop")},v=(s,E)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(c),s||(b=!0);const h=()=>{l("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",y):_()};if(t.autoplay.paused=!0,E){T&&(o=t.params.autoplay.delay),T=!1,h();return}o=(o||t.params.autoplay.delay)-(new Date().getTime()-i),!(t.isEnd&&o<0&&!t.params.loop)&&(o<0&&(o=0),h())},_=()=>{t.isEnd&&o<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(i=new Date().getTime(),b?(b=!1,x(o)):x(),t.autoplay.paused=!1,l("autoplayResume"))},$=()=>{if(t.destroyed||!t.autoplay.running)return;const s=N();s.visibilityState==="hidden"&&(b=!0,v(!0)),s.visibilityState==="visible"&&_()},P=s=>{s.pointerType==="mouse"&&(b=!0,v(!0))},M=s=>{s.pointerType==="mouse"&&t.autoplay.paused&&_()},I=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",P),t.el.addEventListener("pointerleave",M))},q=()=>{t.el.removeEventListener("pointerenter",P),t.el.removeEventListener("pointerleave",M)},F=()=>{N().addEventListener("visibilitychange",$)},O=()=>{N().removeEventListener("visibilitychange",$)};e("init",()=>{t.params.autoplay.enabled&&(I(),F(),i=new Date().getTime(),f())}),e("destroy",()=>{q(),O(),t.autoplay.running&&D()}),e("beforeTransitionStart",(s,E,h)=>{t.destroyed||!t.autoplay.running||(h||!t.params.autoplay.disableOnInteraction?v(!0,!0):D())}),e("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){D();return}g=!0,S=!1,b=!1,k=setTimeout(()=>{b=!0,S=!0,v(!0)},200)}}),e("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!g)){if(clearTimeout(k),clearTimeout(c),t.params.autoplay.disableOnInteraction){S=!1,g=!1;return}S&&t.params.cssMode&&_(),S=!1,g=!1}}),e("slideChange",()=>{t.destroyed||!t.autoplay.running||(T=!0)}),Object.assign(t.autoplay,{start:f,stop:D,pause:v,resume:_})}function it(t){const{effect:r,swiper:e,on:l,setTranslate:n,setTransition:c,overwriteParams:m,perspective:d,recreateShadows:u,getEffectParams:o}=t;l("beforeInit",()=>{if(e.params.effect!==r)return;e.classNames.push(`${e.params.containerModifierClass}${r}`),d&&d()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const p=m?m():{};Object.assign(e.params,p),Object.assign(e.originalParams,p)}),l("setTranslate",()=>{e.params.effect===r&&n()}),l("setTransition",(p,g)=>{e.params.effect===r&&c(g)}),l("transitionEnd",()=>{if(e.params.effect===r&&u){if(!o||!o().slideShadows)return;e.slides.forEach(p=>{p.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(g=>g.remove())}),u()}});let i;l("virtualUpdate",()=>{e.params.effect===r&&(e.slides.length||(i=!0),requestAnimationFrame(()=>{i&&e.slides&&e.slides.length&&(n(),i=!1)}))})}function ct(t,r){const e=U(r);return e!==r&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function W(t,r,e){const l=`swiper-slide-shadow${e?`-${e}`:""}`,n=U(r);let c=n.querySelector(`.${l}`);return c||(c=Q("div",`swiper-slide-shadow${e?`-${e}`:""}`),n.append(c)),c}function dt({swiper:t,extendParams:r,on:e}){r({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),it({effect:"coverflow",swiper:t,on:e,setTranslate:()=>{const{width:c,height:m,slides:d,slidesSizesGrid:u}=t,o=t.params.coverflowEffect,i=t.isHorizontal(),p=t.translate,g=i?-p+c/2:-p+m/2,S=i?o.rotate:-o.rotate,k=o.depth;for(let T=0,b=d.length;T<b;T+=1){const y=d[T],L=u[T],w=y.swiperSlideOffset,x=(g-w-L/2)/L,f=typeof o.modifier=="function"?o.modifier(x):x*o.modifier;let D=i?S*f:0,v=i?0:S*f,_=-k*Math.abs(f),$=o.stretch;typeof $=="string"&&$.indexOf("%")!==-1&&($=parseFloat(o.stretch)/100*L);let P=i?0:$*f,M=i?$*f:0,I=1-(1-o.scale)*Math.abs(f);Math.abs(M)<.001&&(M=0),Math.abs(P)<.001&&(P=0),Math.abs(_)<.001&&(_=0),Math.abs(D)<.001&&(D=0),Math.abs(v)<.001&&(v=0),Math.abs(I)<.001&&(I=0);const q=`translate3d(${M}px,${P}px,${_}px)  rotateX(${v}deg) rotateY(${D}deg) scale(${I})`,F=ct(o,y);if(F.style.transform=q,y.style.zIndex=-Math.abs(Math.round(f))+1,o.slideShadows){let O=i?y.querySelector(".swiper-slide-shadow-left"):y.querySelector(".swiper-slide-shadow-top"),s=i?y.querySelector(".swiper-slide-shadow-right"):y.querySelector(".swiper-slide-shadow-bottom");O||(O=W(o,y,i?"left":"top")),s||(s=W(o,y,i?"right":"bottom")),O&&(O.style.opacity=f>0?f:0),s&&(s.style.opacity=-f>0?-f:0)}}},setTransition:c=>{t.slides.map(d=>U(d)).forEach(d=>{d.style.transitionDuration=`${c}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(u=>{u.style.transitionDuration=`${c}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const ut={components:{Swiper:tt,SwiperSlide:et,RouterLink:at},setup(){return{modules:[dt,st,lt]}},computed:{...ot(G,["classDataPinia"])},methods:{...R(G,["getClasstDataPinia"])}},ft={class:"card h-100 bg-primary border-0 pt-4"},mt={class:"d-flex justify-content-center"},pt={class:"d-flex justify-content-center align-items-center border rounded-circle border-secondary",style:{width:"308px height: 308px"}},yt=["src"],ht={class:"card-body text-center p-0 mt-5"},gt={class:"card-title fs-4"},_t={class:"mt-8 mb-6"},bt={class:"card-text fs-6"},vt=a("div",{class:"card-footer text-center bg-secondary text-white"}," 詳細介紹 ",-1);function Et(t,r,e,l,n,c){const m=j("swiper-slide"),d=j("swiper");return A(),X(d,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",autoplay:{delay:2e3,disableOnInteraction:!1},coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:!0,modules:l.modules,class:"mySwiper"},{default:Y(()=>[(A(!0),J(K,null,nt(t.classDataPinia,(u,o)=>(A(),X(m,{key:o,onClick:i=>t.getClasstDataPinia(u.category,u.id)},{default:Y(()=>[a("div",ft,[a("div",mt,[a("div",pt,[a("img",{src:u.imageUrl,class:"card-img-top rounded-circle card-img p-5",alt:"導師照片"},null,8,yt)])]),a("div",ht,[a("h2",gt,C(u.title),1),a("div",_t,[a("p",bt,C(u.description),1)])]),vt])]),_:2},1032,["onClick"]))),128))]),_:1},8,["modules"])}const St=Z(ut,[["render",Et]]),{VITE_PATH:Tt,VITE_URL:Dt}={VITE_PATH:"ssozr",VITE_URL:"https://vue3-course-api.hexschool.io/",BASE_URL:"/vueweek82/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},$t={data(){return{classData:{},id:"",goCart:!1}},components:{SwiperClassVue:St},methods:{getClassData(){this.$http.get(`${Dt}/v2/api/${Tt}/product/${this.id}`).then(t=>{console.log(t),this.classData=t.data.product}).catch(t=>{console.log(t)})},...R(H,["addCart"]),...R(H,["changeGoCart"])},mounted(){const{id:t}=this.$route.params;this.id=t,this.getClassData()}},Ct={class:"container mb-15 teacher"},xt={class:"row"},Lt={class:"text-center p-0 mb-10"},Pt=["src"],Mt={class:"mb-10"},Ot={class:"border-bottom border-primary border-3 pb-3"},It={class:"fs-6 mt-lg-0 mt-3 ps-lg-5 d-inline-block"},Vt={class:"row flex-lg-row-reverse"},kt={class:"col-lg-4 text-center"},At=["src"],wt={class:"mb-6 mb-lg-0"},qt={class:"col-lg-8 d-flex flex-column justify-content-between"},Ft={class:"fs-4 mb-lg-15 mb-8"},Nt={class:"d-lg-flex text-lg-start text-center justify-content-between align-items-end"},Bt={class:"p-0 m-0"},Rt={class:"fs-4"},jt={class:"ms-4"},Ut={class:"fs-4 m-0"},zt={class:"ms-4"},Ht={class:"d-lg-flex mt-3"},Gt={class:"my-15 my-md-30 container"},Xt=a("h2",{class:"border-bottom border-primary border-3 pb-3"},"相關課程",-1);function Yt(t,r,e,l,n,c){const m=j("SwiperClassVue");return A(),J(K,null,[a("div",Ct,[a("div",xt,[a("div",Lt,[a("img",{src:n.classData.imagesUrl,class:"imgI",alt:""},null,8,Pt)]),a("div",Mt,[a("h2",Ot,[B(C(n.classData.title)+" ",1),a("span",It,C(n.classData.description),1)])]),a("div",Vt,[a("div",kt,[a("img",{src:n.classData.imageUrl,alt:"",class:"card-img rounded-circle mb-4"},null,8,At),a("h3",wt,"授課老師:"+C(n.classData.unit),1)]),a("div",qt,[a("p",Ft,C(n.classData.content),1),a("div",Nt,[a("ul",Bt,[a("li",null,[a("p",Rt,[B("課程堂數:"),a("span",jt,C(n.classData.origin_price)+"堂",1)])]),a("li",null,[a("p",Ut,[B("課程總額:"),a("span",zt,"NT$"+C(n.classData.price),1)])])]),a("div",Ht,[a("button",{type:"button",class:"btn btn-primary",onClick:r[0]||(r[0]=d=>t.addCart(n.classData))},"加入購物車"),a("button",{to:"/cart",type:"button",class:"btn btn-primary ms-6",onClick:r[1]||(r[1]=d=>t.changeGoCart(n.classData))},"立即上課")])])])])])]),a("div",Gt,[Xt,rt(m)])],64)}const Qt=Z($t,[["render",Yt]]);export{Qt as default};
