import{x as i,y as s,z as c}from"./index-d18fa12d.js";import{S as d}from"./sweetalert2.all-a31fdbf3.js";const{VITE_PATH:r,VITE_URL:e}={VITE_PATH:"ssozr",VITE_URL:"https://vue3-course-api.hexschool.io/",BASE_URL:"/vueweek82/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},n=i("cart",{state:()=>({carts:[],total:0,final_total:0,goCart:!1}),actions:{getCartDataPinia(){s.get(`${e}/v2/api/${r}/cart`).then(a=>{this.carts=a.data.data.carts,this.total=a.data.data.total,this.final_total=a.data.data.final_total}).catch(a=>{alert(a.data.message).error(a)})},addCart(a){const o={product_id:a.id,qty:1};s.post(`${e}/v2/api/${r}/cart`,{data:o}).then(t=>{this.goCart===!1?(d.fire(`${t.data.message}`),this.getCartDataPinia()):(this.goCart=!1,this.getCartDataPinia(),c.push("/cart"))}).catch(t=>{alert(t.data.message).error(t)})},changeGoCart(a){this.goCart=!0,this.addCart(a)}}});export{n as c};
