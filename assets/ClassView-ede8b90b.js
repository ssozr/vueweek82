import{c as H}from"./cart-d069cc46.js";import{k as F,l as j,p as et,_ as J,S as at,q as st,R as ot,P as nt,r as A,o as q,i as G,w as B,c as K,h as rt,d as Q,b as a,t as $,F as tt,m as X,f as U,g as lt}from"./index-d18fa12d.js";import"./sweetalert2.all-a31fdbf3.js";function it({swiper:t,extendParams:r,on:e,emit:i,params:n}){t.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,f,d=n&&n.autoplay?n.autoplay.delay:3e3,m=n&&n.autoplay?n.autoplay.delay:3e3,s,l=new Date().getTime,p,g,S,k,T,b;function h(o){!t||t.destroyed||!t.wrapperEl||o.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",h),_())}const L=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?p=!0:p&&(m=s,p=!1);const o=t.autoplay.paused?s:l+m-new Date().getTime();t.autoplay.timeLeft=o,i("autoplayTimeLeft",o,o/d),f=requestAnimationFrame(()=>{L()})},w=()=>{let o;return t.virtual&&t.params.virtual.enabled?o=t.slides.filter(y=>y.classList.contains("swiper-slide-active"))[0]:o=t.slides[t.activeIndex],o?parseInt(o.getAttribute("data-swiper-autoplay"),10):void 0},x=o=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(f),L();let E=typeof o>"u"?t.params.autoplay.delay:o;d=t.params.autoplay.delay,m=t.params.autoplay.delay;const y=w();!Number.isNaN(y)&&y>0&&typeof o>"u"&&(E=y,d=y,m=y),s=E;const V=t.params.speed,z=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(V,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,V,!0,!0),i("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(V,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,V,!0,!0),i("autoplay")),t.params.cssMode&&(l=new Date().getTime(),requestAnimationFrame(()=>{x()})))};return E>0?(clearTimeout(c),c=setTimeout(()=>{z()},E)):requestAnimationFrame(()=>{z()}),E},u=()=>{t.autoplay.running=!0,x(),i("autoplayStart")},D=()=>{t.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(f),i("autoplayStop")},v=(o,E)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(c),o||(b=!0);const y=()=>{i("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",h):_()};if(t.autoplay.paused=!0,E){T&&(s=t.params.autoplay.delay),T=!1,y();return}s=(s||t.params.autoplay.delay)-(new Date().getTime()-l),!(t.isEnd&&s<0&&!t.params.loop)&&(s<0&&(s=0),y())},_=()=>{t.isEnd&&s<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(l=new Date().getTime(),b?(b=!1,x(s)):x(),t.autoplay.paused=!1,i("autoplayResume"))},C=()=>{if(t.destroyed||!t.autoplay.running)return;const o=F();o.visibilityState==="hidden"&&(b=!0,v(!0)),o.visibilityState==="visible"&&_()},M=o=>{o.pointerType==="mouse"&&(b=!0,v(!0))},O=o=>{o.pointerType==="mouse"&&t.autoplay.paused&&_()},P=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",M),t.el.addEventListener("pointerleave",O))},N=()=>{t.el.removeEventListener("pointerenter",M),t.el.removeEventListener("pointerleave",O)},R=()=>{F().addEventListener("visibilitychange",C)},I=()=>{F().removeEventListener("visibilitychange",C)};e("init",()=>{t.params.autoplay.enabled&&(P(),R(),l=new Date().getTime(),u())}),e("destroy",()=>{N(),I(),t.autoplay.running&&D()}),e("beforeTransitionStart",(o,E,y)=>{t.destroyed||!t.autoplay.running||(y||!t.params.autoplay.disableOnInteraction?v(!0,!0):D())}),e("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){D();return}g=!0,S=!1,b=!1,k=setTimeout(()=>{b=!0,S=!0,v(!0)},200)}}),e("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!g)){if(clearTimeout(k),clearTimeout(c),t.params.autoplay.disableOnInteraction){S=!1,g=!1;return}S&&t.params.cssMode&&_(),S=!1,g=!1}}),e("slideChange",()=>{t.destroyed||!t.autoplay.running||(T=!0)}),Object.assign(t.autoplay,{start:u,stop:D,pause:v,resume:_})}function ct(t){const{effect:r,swiper:e,on:i,setTranslate:n,setTransition:c,overwriteParams:f,perspective:d,recreateShadows:m,getEffectParams:s}=t;i("beforeInit",()=>{if(e.params.effect!==r)return;e.classNames.push(`${e.params.containerModifierClass}${r}`),d&&d()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const p=f?f():{};Object.assign(e.params,p),Object.assign(e.originalParams,p)}),i("setTranslate",()=>{e.params.effect===r&&n()}),i("setTransition",(p,g)=>{e.params.effect===r&&c(g)}),i("transitionEnd",()=>{if(e.params.effect===r&&m){if(!s||!s().slideShadows)return;e.slides.forEach(p=>{p.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(g=>g.remove())}),m()}});let l;i("virtualUpdate",()=>{e.params.effect===r&&(e.slides.length||(l=!0),requestAnimationFrame(()=>{l&&e.slides&&e.slides.length&&(n(),l=!1)}))})}function dt(t,r){const e=j(r);return e!==r&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function Y(t,r,e){const i=`swiper-slide-shadow${e?`-${e}`:""}`,n=j(r);let c=n.querySelector(`.${i}`);return c||(c=et("div",`swiper-slide-shadow${e?`-${e}`:""}`),n.append(c)),c}function ut({swiper:t,extendParams:r,on:e}){r({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ct({effect:"coverflow",swiper:t,on:e,setTranslate:()=>{const{width:c,height:f,slides:d,slidesSizesGrid:m}=t,s=t.params.coverflowEffect,l=t.isHorizontal(),p=t.translate,g=l?-p+c/2:-p+f/2,S=l?s.rotate:-s.rotate,k=s.depth;for(let T=0,b=d.length;T<b;T+=1){const h=d[T],L=m[T],w=h.swiperSlideOffset,x=(g-w-L/2)/L,u=typeof s.modifier=="function"?s.modifier(x):x*s.modifier;let D=l?S*u:0,v=l?0:S*u,_=-k*Math.abs(u),C=s.stretch;typeof C=="string"&&C.indexOf("%")!==-1&&(C=parseFloat(s.stretch)/100*L);let M=l?0:C*u,O=l?C*u:0,P=1-(1-s.scale)*Math.abs(u);Math.abs(O)<.001&&(O=0),Math.abs(M)<.001&&(M=0),Math.abs(_)<.001&&(_=0),Math.abs(D)<.001&&(D=0),Math.abs(v)<.001&&(v=0),Math.abs(P)<.001&&(P=0);const N=`translate3d(${O}px,${M}px,${_}px)  rotateX(${v}deg) rotateY(${D}deg) scale(${P})`,R=dt(s,h);if(R.style.transform=N,h.style.zIndex=-Math.abs(Math.round(u))+1,s.slideShadows){let I=l?h.querySelector(".swiper-slide-shadow-left"):h.querySelector(".swiper-slide-shadow-top"),o=l?h.querySelector(".swiper-slide-shadow-right"):h.querySelector(".swiper-slide-shadow-bottom");I||(I=Y(s,h,l?"left":"top")),o||(o=Y(s,h,l?"right":"bottom")),I&&(I.style.opacity=u>0?u:0),o&&(o.style.opacity=-u>0?-u:0)}}},setTransition:c=>{t.slides.map(d=>j(d)).forEach(d=>{d.style.transitionDuration=`${c}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(m=>{m.style.transitionDuration=`${c}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const ft={props:["otherClassData"],components:{Swiper:at,SwiperSlide:st,RouterLink:ot},setup(){return{modules:[ut,nt,it]}}},mt={class:"card h-100 bg-primary border-0 pt-4"},pt={class:"d-flex justify-content-center"},ht={class:"d-flex justify-content-center align-items-center border rounded-circle border-secondary"},yt=["src"],gt={class:"card-body text-center p-0 mt-5"},_t={class:"card-title fs-4"},bt={class:"mt-8 mb-6"},vt={class:"card-text fs-6"},Et=a("div",{class:"card-footer text-center bg-secondary text-white"}," 詳細介紹 ",-1);function St(t,r,e,i,n,c){const f=A("RouterLink"),d=A("swiper-slide"),m=A("swiper");return q(),G(m,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",autoplay:{delay:2e3,disableOnInteraction:!1},coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:!0,modules:i.modules,class:"mySwiper"},{default:B(()=>[(q(!0),K(tt,null,rt(e.otherClassData,(s,l)=>(q(),G(d,{key:l},{default:B(()=>[Q(f,{to:`/class/${s.id}`},{default:B(()=>[a("div",mt,[a("div",pt,[a("div",ht,[a("img",{src:s.imageUrl,class:"card-img-top rounded-circle card-img p-5",alt:"導師照片"},null,8,yt)])]),a("div",gt,[a("h2",_t,$(s.title),1),a("div",bt,[a("p",vt,$(s.description),1)])]),Et])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])}const Tt=J(ft,[["render",St]]),{VITE_PATH:W,VITE_URL:Z}={VITE_PATH:"ssozr",VITE_URL:"https://vue3-course-api.hexschool.io/",BASE_URL:"/vueweek82/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Dt={data(){return{classData:{},otherClassData:[],id:"",goCart:!1,category:""}},components:{SwiperClassVue:Tt},methods:{getClassData(){this.$http.get(`${Z}/v2/api/${W}/product/${this.id}`).then(t=>{this.classData=t.data.product,this.category=t.data.product.category,this.getOtherClassData()}).catch(()=>{})},getOtherClassData(){this.$http.get(`${Z}v2/api/${W}/products/?category=${this.category}`).then(t=>{this.otherClassData=t.data.products,this.filteredItems()}).catch(()=>{})},...X(H,["addCart"]),...X(H,["changeGoCart"]),formatNumber(t){if(t)return t.toLocaleString()},filteredItems(){let t=[];const r=this.id;this.otherClassData.forEach(function(e){e.id!==r&&t.push(e)}),this.otherClassData=t}},mounted(){const{id:t}=this.$route.params;this.id=t,this.getClassData()}},Ct={class:"container mb-15 teacher","data-aos":"fade-right"},$t={class:"row"},xt={class:"text-center p-0 mb-10 col-8 offset-2"},Lt=["src"],Mt={class:"mb-10"},Ot={class:"border-bottom border-primary border-3 pb-3"},It={class:"fs-6 mt-lg-0 mt-3 ps-lg-5 d-inline-block"},Pt={class:"row flex-lg-row-reverse"},Vt={class:"col-lg-4 text-center"},kt=["src"],At={class:"mb-6 mb-lg-0"},qt={class:"col-lg-8 d-flex flex-column justify-content-between"},wt={class:"fs-4 mb-lg-15 mb-8"},Nt={class:"d-lg-flex text-lg-start text-center justify-content-between align-items-end"},Rt={class:"p-0 m-0"},Ft={class:"fs-4"},Bt={class:"ms-4"},Ut={class:"fs-4 m-0"},jt={class:"ms-4"},zt={class:"d-lg-flex mt-3"},Ht={class:"my-15 my-md-30 container","data-aos":"fade-right"},Gt=a("h2",{class:"border-bottom border-primary border-3 pb-3"},"相關課程",-1),Xt={class:"modal",tabindex:"-1",ref:"addModal"},Yt=lt('<div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Modal title</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><p>Modal body text goes here.</p></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button><button type="button" class="btn btn-primary">Save changes</button></div></div></div>',1),Wt=[Yt];function Zt(t,r,e,i,n,c){const f=A("SwiperClassVue");return q(),K(tt,null,[a("div",Ct,[a("div",$t,[a("div",xt,[a("img",{src:n.classData.imagesUrl,class:"imgI",alt:"課程示意圖"},null,8,Lt)]),a("div",Mt,[a("h2",Ot,[U($(n.classData.title)+" ",1),a("span",It,$(n.classData.description),1)])]),a("div",Pt,[a("div",Vt,[a("img",{src:n.classData.imageUrl,alt:"老師照片",class:"card-img rounded-circle mb-4"},null,8,kt),a("h3",At,"授課老師:"+$(n.classData.unit),1)]),a("div",qt,[a("p",wt,$(n.classData.content),1),a("div",Nt,[a("ul",Rt,[a("li",null,[a("p",Ft,[U("課程堂數:"),a("span",Bt,$(n.classData.origin_price)+"堂",1)])]),a("li",null,[a("p",Ut,[U("課程總額:"),a("span",jt,"NT$"+$(c.formatNumber(n.classData.price)),1)])])]),a("div",zt,[a("button",{type:"button",class:"btn btn-primary",onClick:r[0]||(r[0]=d=>t.addCart(n.classData))},"加入購物車"),a("button",{to:"/cart",type:"button",class:"btn btn-primary ms-6",onClick:r[1]||(r[1]=d=>t.changeGoCart(n.classData))},"立即上課")])])])])])]),a("div",Ht,[Gt,Q(f,{"other-class-data":n.otherClassData},null,8,["other-class-data"])]),a("div",Xt,Wt,512)],64)}const te=J(Dt,[["render",Zt]]);export{te as default};
