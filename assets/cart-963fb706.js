import{x as i,y as o,z as c}from"./index-ac0620ce.js";import{S as l}from"./sweetalert2.all-55c61ecb.js";const{VITE_PATH:s,VITE_URL:e}={VITE_PATH:"ssozr",VITE_URL:"https://vue3-course-api.hexschool.io/",BASE_URL:"/vueweek82/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},d=i("cart",{state:()=>({carts:[],total:0,final_total:0,goCart:!1}),actions:{getCartDataPinia(){o.get(`${e}/v2/api/${s}/cart`).then(t=>{this.carts=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total}).catch(t=>{console.log(t)})},addCart(t){const r={product_id:t.id,qty:1};o.post(`${e}/v2/api/${s}/cart`,{data:r}).then(a=>{console.log(a),this.goCart===!1?(l.fire(`${a.data.message}`),this.getCartDataPinia()):(this.goCart=!1,this.getCartDataPinia(),c.push("/cart"))}).catch(a=>{console.log(a)})},changeGoCart(t){this.goCart=!0,this.addCart(t)}}});export{d as c};
