import{S as Z}from"./sweetalert2.all-f808f091.js";import{i as N,j as U,k as J,_ as Y,S as K,l as Q,P as tt,r as R,o as W,h as et,w as v,b,a as s,c as st,e as B,t as P,F as at}from"./index-8201d654.js";function ot({swiper:t,extendParams:l,on:e,emit:r,params:n}){t.autoplay={running:!1,paused:!1,timeLeft:0},l({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,c,u=n&&n.autoplay?n.autoplay.delay:3e3,y=n&&n.autoplay?n.autoplay.delay:3e3,o,d=new Date().getTime,m,g,D,A,$,E;function p(a){!t||t.destroyed||!t.wrapperEl||a.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",p),_())}const w=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?m=!0:m&&(y=o,m=!1);const a=t.autoplay.paused?o:d+y-new Date().getTime();t.autoplay.timeLeft=a,r("autoplayTimeLeft",a,a/u),c=requestAnimationFrame(()=>{w()})},q=()=>{let a;return t.virtual&&t.params.virtual.enabled?a=t.slides.filter(h=>h.classList.contains("swiper-slide-active"))[0]:a=t.slides[t.activeIndex],a?parseInt(a.getAttribute("data-swiper-autoplay"),10):void 0},x=a=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(c),w();let T=typeof a>"u"?t.params.autoplay.delay:a;u=t.params.autoplay.delay,y=t.params.autoplay.delay;const h=q();!Number.isNaN(h)&&h>0&&typeof a>"u"&&(T=h,u=h,y=h),o=T;const V=t.params.speed,z=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(V,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,V,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(V,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,V,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{x()})))};return T>0?(clearTimeout(i),i=setTimeout(()=>{z()},T)):requestAnimationFrame(()=>{z()}),T},f=()=>{t.autoplay.running=!0,x(),r("autoplayStart")},C=()=>{t.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(c),r("autoplayStop")},S=(a,T)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(i),a||(E=!0);const h=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",p):_()};if(t.autoplay.paused=!0,T){$&&(o=t.params.autoplay.delay),$=!1,h();return}o=(o||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&o<0&&!t.params.loop)&&(o<0&&(o=0),h())},_=()=>{t.isEnd&&o<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),E?(E=!1,x(o)):x(),t.autoplay.paused=!1,r("autoplayResume"))},j=()=>{if(t.destroyed||!t.autoplay.running)return;const a=N();a.visibilityState==="hidden"&&(E=!0,S(!0)),a.visibilityState==="visible"&&_()},L=a=>{a.pointerType==="mouse"&&(E=!0,S(!0))},M=a=>{a.pointerType==="mouse"&&t.autoplay.paused&&_()},I=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",L),t.el.addEventListener("pointerleave",M))},k=()=>{t.el.removeEventListener("pointerenter",L),t.el.removeEventListener("pointerleave",M)},F=()=>{N().addEventListener("visibilitychange",j)},O=()=>{N().removeEventListener("visibilitychange",j)};e("init",()=>{t.params.autoplay.enabled&&(I(),F(),d=new Date().getTime(),f())}),e("destroy",()=>{k(),O(),t.autoplay.running&&C()}),e("beforeTransitionStart",(a,T,h)=>{t.destroyed||!t.autoplay.running||(h||!t.params.autoplay.disableOnInteraction?S(!0,!0):C())}),e("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){C();return}g=!0,D=!1,E=!1,A=setTimeout(()=>{E=!0,D=!0,S(!0)},200)}}),e("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!g)){if(clearTimeout(A),clearTimeout(i),t.params.autoplay.disableOnInteraction){D=!1,g=!1;return}D&&t.params.cssMode&&_(),D=!1,g=!1}}),e("slideChange",()=>{t.destroyed||!t.autoplay.running||($=!0)}),Object.assign(t.autoplay,{start:f,stop:C,pause:S,resume:_})}function nt(t){const{effect:l,swiper:e,on:r,setTranslate:n,setTransition:i,overwriteParams:c,perspective:u,recreateShadows:y,getEffectParams:o}=t;r("beforeInit",()=>{if(e.params.effect!==l)return;e.classNames.push(`${e.params.containerModifierClass}${l}`),u&&u()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const m=c?c():{};Object.assign(e.params,m),Object.assign(e.originalParams,m)}),r("setTranslate",()=>{e.params.effect===l&&n()}),r("setTransition",(m,g)=>{e.params.effect===l&&i(g)}),r("transitionEnd",()=>{if(e.params.effect===l&&y){if(!o||!o().slideShadows)return;e.slides.forEach(m=>{m.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(g=>g.remove())}),y()}});let d;r("virtualUpdate",()=>{e.params.effect===l&&(e.slides.length||(d=!0),requestAnimationFrame(()=>{d&&e.slides&&e.slides.length&&(n(),d=!1)}))})}function lt(t,l){const e=U(l);return e!==l&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function H(t,l,e){const r=`swiper-slide-shadow${e?`-${e}`:""}`,n=U(l);let i=n.querySelector(`.${r}`);return i||(i=J("div",`swiper-slide-shadow${e?`-${e}`:""}`),n.append(i)),i}function rt({swiper:t,extendParams:l,on:e}){l({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),nt({effect:"coverflow",swiper:t,on:e,setTranslate:()=>{const{width:i,height:c,slides:u,slidesSizesGrid:y}=t,o=t.params.coverflowEffect,d=t.isHorizontal(),m=t.translate,g=d?-m+i/2:-m+c/2,D=d?o.rotate:-o.rotate,A=o.depth;for(let $=0,E=u.length;$<E;$+=1){const p=u[$],w=y[$],q=p.swiperSlideOffset,x=(g-q-w/2)/w,f=typeof o.modifier=="function"?o.modifier(x):x*o.modifier;let C=d?D*f:0,S=d?0:D*f,_=-A*Math.abs(f),j=o.stretch;typeof j=="string"&&j.indexOf("%")!==-1&&(j=parseFloat(o.stretch)/100*w);let L=d?0:j*f,M=d?j*f:0,I=1-(1-o.scale)*Math.abs(f);Math.abs(M)<.001&&(M=0),Math.abs(L)<.001&&(L=0),Math.abs(_)<.001&&(_=0),Math.abs(C)<.001&&(C=0),Math.abs(S)<.001&&(S=0),Math.abs(I)<.001&&(I=0);const k=`translate3d(${M}px,${L}px,${_}px)  rotateX(${S}deg) rotateY(${C}deg) scale(${I})`,F=lt(o,p);if(F.style.transform=k,p.style.zIndex=-Math.abs(Math.round(f))+1,o.slideShadows){let O=d?p.querySelector(".swiper-slide-shadow-left"):p.querySelector(".swiper-slide-shadow-top"),a=d?p.querySelector(".swiper-slide-shadow-right"):p.querySelector(".swiper-slide-shadow-bottom");O||(O=H(o,p,d?"left":"top")),a||(a=H(o,p,d?"right":"bottom")),O&&(O.style.opacity=f>0?f:0),a&&(a.style.opacity=-f>0?-f:0)}}},setTransition:i=>{t.slides.map(u=>U(u)).forEach(u=>{u.style.transitionDuration=`${i}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(y=>{y.style.transitionDuration=`${i}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const it={components:{Swiper:K,SwiperSlide:Q},setup(){return{modules:[rt,tt,ot]}}},ct=s("img",{src:"https://swiperjs.com/demos/images/nature-1.jpg"},null,-1),dt=s("img",{src:"https://swiperjs.com/demos/images/nature-2.jpg"},null,-1),ut=s("img",{src:"https://swiperjs.com/demos/images/nature-3.jpg"},null,-1),ft=s("img",{src:"https://swiperjs.com/demos/images/nature-4.jpg"},null,-1),mt=s("img",{src:"https://swiperjs.com/demos/images/nature-5.jpg"},null,-1),pt=s("img",{src:"https://swiperjs.com/demos/images/nature-6.jpg"},null,-1),ht=s("img",{src:"https://swiperjs.com/demos/images/nature-7.jpg"},null,-1),yt=s("img",{src:"https://swiperjs.com/demos/images/nature-8.jpg"},null,-1),gt=s("img",{src:"https://swiperjs.com/demos/images/nature-9.jpg"},null,-1);function _t(t,l,e,r,n,i){const c=R("swiper-slide"),u=R("swiper");return W(),et(u,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",autoplay:{delay:2e3,disableOnInteraction:!1},coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:!0,modules:r.modules,class:"mySwiper"},{default:v(()=>[b(c,null,{default:v(()=>[ct]),_:1}),b(c,null,{default:v(()=>[dt]),_:1}),b(c,null,{default:v(()=>[ut]),_:1}),b(c,null,{default:v(()=>[ft]),_:1}),b(c,null,{default:v(()=>[mt]),_:1}),b(c,null,{default:v(()=>[pt]),_:1}),b(c,null,{default:v(()=>[ht]),_:1}),b(c,null,{default:v(()=>[yt]),_:1}),b(c,null,{default:v(()=>[gt]),_:1})]),_:1},8,["modules"])}const vt=Y(it,[["render",_t]]),{VITE_PATH:G,VITE_URL:X}={VITE_PATH:"ssozr",VITE_URL:"https://vue3-course-api.hexschool.io/",BASE_URL:"/vueweek82/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},bt={data(){return{classData:{},id:"",goCart:!1}},components:{SwiperClassVue:vt},methods:{getClassData(){this.$http.get(`${X}/v2/api/${G}/product/${this.id}`).then(t=>{console.log(t),this.classData=t.data.product}).catch(t=>{console.log(t)})},addCart(t){const l={product_id:t.id,qty:1};this.$http.post(`${X}/v2/api/${G}/cart`,{data:l}).then(e=>{console.log(e),this.goCart===!1?Z.fire(`${e.data.message}`):(this.goCart=!1,this.$router.push("/cart"))}).catch(e=>{console.log(e)})},changeGoCart(t){this.goCart=!0,this.addCart(t)}},mounted(){const{id:t}=this.$route.params;this.id=t,this.getClassData()}},Et={class:"container mb-15 teacher"},St={class:"row"},Tt={class:"text-center p-0 mb-10"},Dt=["src"],$t={class:"mb-10"},Ct={class:"border-bottom border-primary border-3 pb-3"},jt={class:"fs-6 mt-lg-0 mt-3 ps-lg-5 d-inline-block"},xt={class:"row flex-lg-row-reverse"},wt={class:"col-lg-4 text-center"},Lt=["src"],Mt={class:"mb-6 mb-lg-0"},Ot={class:"col-lg-8 d-flex flex-column justify-content-between"},Pt={class:"fs-4 mb-lg-15 mb-8"},It={class:"d-lg-flex text-lg-start text-center justify-content-between align-items-end"},Vt={class:"p-0 m-0"},At={class:"fs-4"},qt={class:"ms-4"},kt={class:"fs-4 m-0"},Ft={class:"ms-4"},Nt={class:"d-lg-flex mt-3"},Bt={class:"mb-15 mb-md-30"};function Rt(t,l,e,r,n,i){const c=R("SwiperClassVue");return W(),st(at,null,[s("div",Et,[s("div",St,[s("div",Tt,[s("img",{src:n.classData.imagesUrl,class:"imgI",alt:""},null,8,Dt)]),s("div",$t,[s("h2",Ct,[B(P(n.classData.title)+" ",1),s("span",jt,P(n.classData.description),1)])]),s("div",xt,[s("div",wt,[s("img",{src:n.classData.imageUrl,alt:"",class:"card-img rounded-circle mb-4"},null,8,Lt),s("h3",Mt,"授課老師:"+P(n.classData.unit),1)]),s("div",Ot,[s("p",Pt,P(n.classData.content),1),s("div",It,[s("ul",Vt,[s("li",null,[s("p",At,[B("課程堂數:"),s("span",qt,P(n.classData.origin_price)+"堂",1)])]),s("li",null,[s("p",kt,[B("課程總額:"),s("span",Ft,"NT$"+P(n.classData.price),1)])])]),s("div",Nt,[s("button",{type:"button",class:"btn btn-primary",onClick:l[0]||(l[0]=u=>i.addCart(n.classData))},"加入購物車"),s("button",{to:"/cart",type:"button",class:"btn btn-primary ms-6",onClick:l[1]||(l[1]=u=>i.changeGoCart(n.classData))},"立即上課")])])])])])]),s("div",Bt,[b(c)])],64)}const Ht=Y(bt,[["render",Rt]]);export{Ht as default};
